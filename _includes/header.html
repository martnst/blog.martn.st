 <div class="header">
    <div id="googlemaps"></div>
    <!-- Include the Google Maps API library - required for embedding maps -->
    <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBlYU4K1Omu4kXWgGcN7JGqOOilPFGBCL8"></script>
     
    <script type="text/javascript">

    let cities = {
      berlin: [52.51, 13.37], 
      libson: [38.708692, -9.1360469], 
      budapest: [47.5029569, 19.0717836], 
      laspalmas: [28.1173563, -15.4746366],
      colon: [8.882942,-80.5625636] // panama
    }

    let today = new Date()
    let itinerary = [
      {start: new Date("2017-08-07"), city: cities.budapest},
      {start: new Date("2017-09-07"), city: cities.libson},
      {start: new Date("2017-09-14"), city: cities.laspalmas},
      {start: new Date("2017-10-08"), city: cities.colon}
    ]

    var position = cities.berlin // fallback

    itinerary.forEach(stop => {
      if(stop.start < today) {
        position = stop.city
      }
    })

    function showGoogleMaps() {
     
        var latLng = new google.maps.LatLng(position[0], position[1]);

        var customMapType = new google.maps.StyledMapType([
        {
            stylers: [
            {hue: '#53556A'},
            {visibility: 'simplified'},
            {gamma: 0.5},
            {weight: 0.5}, 
            {lightness: -60}
            ]
        },
        {
            elementType: 'labels',
            stylers: [{visibility: 'on'}, {color: '#ffffff'}]
        },
        {
            elementType: "labels.text.fill",
            stylers: [
                { lightness: 59 },
                { gamma: 0.44 },
                { color: "#DBDAE3" }
            ]
        },
        {
            elementType: "labels.text.stroke",
            stylers: [ { visibility: "off" } ]
        },

        {
            featureType: 'water',
            stylers: [{color: '#6E728D'}]
        },
        {
            featureType: "road",
            elementType: "labels",
            stylers: [{visibility: "off"}]
        },
        {
            featureType: "poi",
            elementType: "labels",
            stylers: [{visibility: "off"}]
        },
        {
            featureType: "administrative.neighborhood",
            elementType: "labels",
            stylers: [{visibility: "off"}]
        },
        {
            featureType: "road.local",
            stylers: [{visibility: "off"}]
        },
        {
          name: 'Custom Style'
        }]);
        var customMapTypeId = 'custom_style';

     
        var mapOptions = {
            zoom: 12, // initialize zoom level - the max value is 21
            streetViewControl: false, // hide the yellow Street View pegman
            scaleControl: false, // allow users to zoom the Google Map
            mapTypeControl: false,
            zoomControl: false,
            rotateControl: false, 
            // mapTypeId: [google.maps.MapTypeId.ROADMAP, customMapTypeId],
            center: latLng
        };
     
        map = new google.maps.Map(document.getElementById('googlemaps'), mapOptions);
        map.mapTypes.set(customMapTypeId, customMapType);
        map.setMapTypeId(customMapTypeId);
    }
     
    google.maps.event.addDomListener(window, 'load', showGoogleMaps);
    google.maps.event.addDomListener(window, 'resize', showGoogleMaps);
    </script>
    <div id="googlempasoverlay"></div>
     <div class="container">
         <h1 class="logo"><a href="{{ site.baseurl }}/">{{ site.title }}</a></h1>
         <nav class="nav-collapse">
             <ul class="noList">
                 {% for link in site.navigation %}{% assign current = nil %}{% if page.url contains link.url %}{% assign current = 'current' %}{% endif %}
                 <li class="element {% if forloop.first %}first{% endif %} {{ current }} {% if forloop.last %}last{% endif %}">
                     <a href="{{ link.url | prepend: site.baseurl }}">{{ link.title }}</a>
                 </li> 
                 {% endfor %}
             </ul>
         </nav>
     </div>
 </div><!-- end .header -->
